<head>
  <meta charset="utf-8">
  <title>Dashboard | Grains Hub</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
    import { firebaseConfig } from "./firebase-config.js";

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    onAuthStateChanged(auth, user => {
      if (!user) location.href = 'login.html';
      else document.getElementById('userEmail').textContent = user.email;
    });

    document.getElementById('logoutBtn')?.addEventListener('click', () => {
      signOut(auth).then(() => location.href = '/');
    });
  </script>
  <script type="module">
  // FULL CDN â€” NO "firebase/app" SHORTCUT EVER AGAIN
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
  import { getFirestore, collection, getDocs, query, where } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { firebaseConfig } from "./firebase-config.js";

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  window.auth = auth;
  window.db = db;
</script>
<script type="module" src="./alliya.js"></script>
</head>
<body style="font-family: Arial; padding: 30px; max-width: 800px; margin: 0 auto;">
  <h2>Welcome, <span id="userEmail"></span>!</h2>
  <p><strong>Subscription:</strong> Active B2B Trader</p>
  <hr>
  <h3>Your Recent Activity</h3>
  <ul>
    <li>Basmati 1121: AED 160/MT (up 2.5%)</li>
    <li>Irri 6: AED 95/MT (stable)</li>
  </ul>
  <button id="logoutBtn" style="padding: 12px; background: #f44336; color: white; border: none; border-radius: 6px;">Logout</button>
</body>
