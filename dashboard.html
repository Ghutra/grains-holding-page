<!DOCTYPE html>
<html>
<head>
  <title>Dashboard | Grains Hub</title>
  <script type="module">
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
    const auth = window.auth;

    onAuthStateChanged(auth, user => {
      if (!user) location.href = 'login.html';
      else document.getElementById('email').textContent = user.email;
    });

    document.getElementById('logout')?.addEventListener('click', () => {
      signOut(auth).then(() => location.href = '/');
    });
  </script>
</head>
<body style="font-family: Arial; padding: 20px;">
  <h2>Welcome back, <span id="email"></span>!</h2>
  <p><strong>Subscription:</strong> Active B2B Trader</p>
  <hr>
  <h3>Your Recent Activity</h3>
  <ul>
    <li>Booked: 2×40ft Basmati 1121 – Nov 12</li>
    <li>Alert: Irri 6 price dropped to AED 92</li>
  </ul>
  <button id="logout" style="padding: 10px; background: #f44336; color: white; border: none;">Logout</button>
</body>
</html>
