<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Grains Shop | Grains Hub</title>
  <meta name="description" content="Dubai’s trusted B2B grain shop. Verified suppliers, compliance-first, poetic restraint. Filter by origin, grade, ritual use." />
  <meta name="keywords" content="grains shop, Dubai B2B, verified rice, basmati, FCL, compliance, ritual grains" />
  <meta name="author" content="Shahid Bashir" />
  <link rel="canonical" href="https://grains.ae/shop" />
  <link rel="icon" href="../favicon.png" type="image/png" />

  <!-- OG Tags -->
  <meta property="og:title" content="The Grains Shop – Verified B2B Grain Marketplace" />
  <meta property="og:description" content="Specialist picks. Verified sources. Dubai’s trusted B2B grain shop." />
  <meta property="og:image" content="https://grains.ae/assets/img/shop-hero.jpg" />
  <meta property="og:url" content="https://grains.ae/shop" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Store",
    "name": "The Grains Shop",
    "url": "https://grains.ae/shop",
    "image": "https://grains.ae/assets/img/shop-hero.jpg",
    "description": "Dubai's compliance-first B2B grain marketplace.",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Dubai",
      "addressCountry": "AE"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "email": "letstalk@grains.ae",
      "contactType": "Customer Service"
    }
  }
  </script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background-color: #fdfdf9; font-family: 'Helvetica Neue', sans-serif; color: #222; line-height: 1.6; }

    /* Navbar */
    .navbar { background-color: #C1A875; padding: 10px 20px; position: sticky; top: 0; z-index: 1000; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .logo { color: #fff; font-weight: bold; font-size: 1.1rem; text-decoration: none; }
    .nav-links { display: flex; list-style: none; gap: 20px; }
    .nav-links a { color: #fff; text-decoration: none; font-size: 14px; font-weight: bold; padding: 8px 12px; border-radius: 4px; transition: all 0.3s ease; }
    .nav-links a:hover { background-color: rgba(255,255,255,0.2); }
    .nav-links a.active { background-color: #fff; color: #C1A875; }
    .hamburger { display: none; flex-direction: column; cursor: pointer; gap: 5px; }
    .hamburger span { width: 25px; height: 3px; background-color: #fff; border-radius: 2px; }
    @media (max-width: 768px) { .nav-links { position: absolute; top: 100%; left: 0; right: 0; background-color: #C1A875; flex-direction: column; display: none; padding: 10px 0; } .nav-links.active { display: flex; } .hamburger { display: flex; } }

    /* Hero */
    header { padding: 70px 20px 50px; background: url('../assets/img/shop-hero.jpg') center/cover no-repeat; position: relative; color: white; text-align: center; }
    header::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); }
    header > * { position: relative; z-index: 1; }
    header img { width: 140px; margin-bottom: 12px; }
    header h1 { font-size: 34px; font-weight: 500; margin-bottom: 10px; }
    header p { font-size: 17px; max-width: 700px; margin: 8px auto; opacity: 0.95; }

    /* Filters */
    #filters { background: #f8f5ec; padding: 40px 20px; }
    #filters h2 { margin-bottom: 20px; color: #a07c3b; }
    #filters form { display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; max-width: 900px; margin: auto; }
    #filters label { font-weight: bold; color: #a07c3b; min-width: 100px; }
    #filters select { padding: 10px; border: 1px solid #ccc; border-radius: 6px; background: white; font-size: 15px; flex: 1; min-width: 160px; }

    /* Grid */
    .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; padding: 40px 20px; max-width: 1200px; margin: auto; }
    .product-card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 16px rgba(0,0,0,0.08); transition: transform 0.3s; }
    .product-card:hover { transform: translateY(-4px); }
    .product-card img { width: 100%; height: 180px; object-fit: cover; }
    .product-card .content { padding: 16px; }
    .product-card h3 { font-size: 1.1rem; margin-bottom: 8px; color: #a07c3b; }
    .product-card p { margin: 4px 0; font-size: 0.9rem; color: #444; }
    .badge { background: #C1A875; color: white; padding: 4px 10px; border-radius: 4px; font-size: 0.75rem; display: inline-block; margin: 6px 0; }
    .btn-whatsapp { display: block; text-align: center; background: #25D366; color: white; padding: 10px; border-radius: 6px; text-decoration: none; font-weight: bold; margin-top: 10px; font-size: 0.9rem; }
    .btn-whatsapp:hover { background: #1ebe57; }

    /* Alliya Float */
    .alliya-float { position: fixed; bottom: 100px; right: 20px; background: #C1A875; color: white; padding: 12px 16px; border-radius: 30px; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.2); display: flex; align-items: center; gap: 8px; font-weight: bold; z-index: 999; }

    /* Modal */
    .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center; }
    .modal.active { display: flex; }
    .modal-content { background: white; border-radius: 12px; width: 90%; max-width: 500px; padding: 20px; position: relative; }
    .close { position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer; }

    footer { margin-top: 80px; padding: 20px; font-size: 14px; color: #777; text-align: center; }
    .badge-footer { background-color: #C1A875; color: #fff; padding: 6px 12px; border-radius: 4px; font-weight: bold; font-size: 0.9rem; }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <a href="/" class="logo">Grains Hub</a>
    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/why">Why</a></li>
      <li><a href="/pulse/index.html">Pulse</a></li>
      <li><a href="/trust">Trust</a></li>
      <li><a href="/about">About</a></li>
      <li><a href="/shop" class="active">Shop</a></li>
    </ul>
    <div class="hamburger">
      <span></span><span></span><span></span>
    </div>
  </nav>

  <!-- Hero -->
  <header>
    <img src="../grains-logo.png" alt="Grains Hub Logo" />
    <h1>The Grains Shop</h1>
    <p>Specialist picks. Verified sources. Dubai’s trusted B2B grain marketplace.</p>
  </header>

  <!-- Filters -->
  <section id="filters">
    <h2>Refine Your Search</h2>
    <form id="filter-form">
      <label for="origin">Origin:</label>
      <select id="origin">
        <option value="">All</option>
        <option value="India">India</option>
        <option value="Pakistan">Pakistan</option>
        <option value="Thailand">Thailand</option>
      </select>

      <label for="grade">Grade:</label>
      <select id="grade">
        <option value="">All</option>
        <option value="export">B2B Export</option>
        <option value="organic">Organic Tier 1</option>
        <option value="bulk">Bulk Grade</option>
      </select>

      <label for="ritual">Ritual Use:</label>
      <select id="ritual">
        <option value="">All</option>
        <option value="fasting">Seasonal Fasting</option>
        <option value="ancestral">Ancestral Diets</option>
        <option value="breadmaking">Breadmaking</option>
      </select>
    </form>
  </section>

  <!-- Product Grid -->
  <section>
    <div class="product-grid" id="product-grid">
      <!-- Filled by shop.js -->
    </div>
  </section>

  <!-- Alliya Float -->
  <div class="alliya-float" onclick="openModal()">
    <img src="../alliya-icon.ico" alt="Alliya"> Ask Alliya
  </div>

  <!-- Modal -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">×</span>
      <div class="alliya-box">
        <h2><img src="../alliya-icon.ico" alt="Alliya"> Ask Alliya</h2>
        <div style="position:relative;">
          <input type="text" id="modalInput" placeholder="Ask about stock, FCL, prices..." oninput="suggest(this.value, true)" />
          <div id="modalSuggestions"></div>
        </div>
        <button onclick="askAlliya(true)">Verify</button>
        <div id="modalReply" class="reply"></div>
      </div>
    </div>
  </div>

  <footer>
    <div class="badge-footer">Microsoft Copilot Enabled</div><br>
    <a href="mailto:letstalk@grains.ae">letstalk@grains.ae</a><br>
    <p>© 2025 Grains Hub. All rights reserved.</p>
  </footer>

  <!-- Scripts -->
  <script src="shop.js"></script>
  <script>
    // Hamburger
    document.querySelector('.hamburger').addEventListener('click', () => {
      document.querySelector('.nav-links').classList.toggle('active');
    });

    // Filter Logic
    document.getElementById('filter-form').addEventListener('change', () => {
      const origin = document.getElementById('origin').value;
      const grade = document.getElementById('grade').value;
      const ritual = document.getElementById('ritual').value;
      window.filterShop && window.filterShop({ origin, grade, ritual });
    });

    // Alliya Modal
    function openModal() { document.getElementById('modal').classList.add('active'); }
    function closeModal() { document.getElementById('modal').classList.remove('active'); }

    // Suggestions
    const keywords = ['basmati 1121 price', 'FCL booking', 'organic tier 1', 'fasting grains'];
    function suggest(val, modal = false) {
      const id = modal ? 'modalSuggestions' : 'suggestions';
      const box = document.getElementById(id); box.innerHTML = '';
      if (val.length < 2) return;
      keywords.filter(k => k.toLowerCase().includes(val.toLowerCase())).forEach(k => {
        const d = document.createElement('div'); d.textContent = k; d.style.padding = '8px'; d.style.cursor = 'pointer';
        d.onclick = () => { (modal ? document.getElementById('modalInput') : document.getElementById('queryInput')).value = k; box.innerHTML = ''; askAlliya(modal); };
        box.appendChild(d);
      });
    }

    async function askAlliya(modal = false) {
      const input = modal ? document.getElementById('modalInput') : document.getElementById('queryInput');
      const reply = modal ? document.getElementById('modalReply') : document.getElementById('replyBox');
      const q = input.value.trim();
      if (!q) return;
      reply.innerHTML = 'Verifying...';
      try {
        const res = await fetch(`https://grains-backend.onrender.com/api/alliya?q=${encodeURIComponent(q)}`);
        const data = await res.json();
        reply.innerHTML = data.reply || `Try WhatsApp: <a href="https://wa.me/971501234567?text=${q}">Message Us</a>`;
      } catch { reply.innerHTML = 'Try WhatsApp: <a href="https://wa.me/971501234567">Click Here</a>'; }
    }
  </script>
<!-- Alliya Modal (Shared) -->
<div id="alliya-modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">×</span>
    <div class="alliya-box">
      <h2><img src="assets/img/alliya-icon.ico" alt="Alliya" width="24"> Ask Alliya</h2>
      <div style="position:relative;">
        <input type="text" id="alliya-input" placeholder="Ask about prices, trends, FCL..." oninput="showSuggestions(this.value)" />
        <div id="suggestions" class="suggestions"></div>
      </div>
      <button onclick="askAlliya()">Verify</button>
      <div id="alliya-reply" class="reply"></div>
    </div>
  </div>
</div>

<!-- Alliya Float Button -->
<div class="alliya-float" onclick="openModal()">
  <img src="assets/img/alliya-icon.ico" alt="Alliya"> Ask Alliya
</div>

<!-- Global JS -->
<script src="assets/js/app.js"></script>
</body>
</html>
