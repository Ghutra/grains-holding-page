<head>
  <meta charset="utf-8">
  <title>Login | Grains Hub</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
    import { firebaseConfig } from "./firebase-config.js";

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    window.addEventListener('load', () => {
      document.getElementById('loginBtn')?.addEventListener('click', () => {
        const email = document.getElementById('email').value;
        const pass = document.getElementById('pass').value;
        signInWithEmailAndPassword(auth, email, pass)
          .then(() => location.href = 'dashboard.html')
          .catch(e => alert(e.message));
      });

      document.getElementById('signupBtn')?.addEventListener('click', () => {
        const email = document.getElementById('email').value;
        const pass = document.getElementById('pass').value;
        createUserWithEmailAndPassword(auth, email, pass)
          .then(() => location.href = 'dashboard.html')
          .catch(e => alert(e.message));
      });
    });
  </script>
  <script type="module">
  // FULL CDN — NO "firebase/app" SHORTCUT EVER AGAIN
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
  import { getFirestore, collection, getDocs, query, where } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { firebaseConfig } from "./firebase-config.js";

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  window.auth = auth;
  window.db = db;
</script>
<script type="module" src="./alliya.js"></script>
</head>
<body style="text-align: center; margin-top: 100px; font-family: Arial;">
  <h2>Grains Hub – Trader Portal</h2>
  <input id="email" placeholder="Email" style="display: block; margin: 15px auto; padding: 12px; width: 300px; border: 1px solid #ccc; border-radius: 6px;">
  <input id="pass" type="password" placeholder="Password" style="display: block; margin: 15px auto; padding: 12px; width: 300px; border: 1px solid #ccc; border-radius: 6px;">
  <button id="loginBtn" style="padding: 12px 24px; background: #2196F3; color: white; border: none; border-radius: 6px; margin: 5px;">Login</button>
  <button id="signupBtn" style="padding: 12px 24px; background: #4CAF50; color: white; border: none; border-radius: 6px; margin: 5px;">Sign Up</button>
</body>
